# Python Scripts for Digit

This folder contains multiple python scripts related to gait optimization for Digit.
Note that you need to be inside the current folder (`RAPTOR/Examples/Digit/python`) to run these scripts because of the path defined in these scripts.

## visualize_trajectory.py

### Overview
The `visualize_trajectory.py` script visualizes the open-loop trajectory generated by **RAPTOR** in PyBullet by directly setting the joint angles.  
Note that there is no dynamics or control considered.
This tool is useful for visually inspecting trajectory feasibility for further refinement and tuning.

### Usage
The `visualize_trajectory.py` script loads a text file that stores the open-loop trajectory as a matrix.
The first 36 entries of each row of the matrix represents the joint positions.

## digit_simulation.py

### Overview
The `digit_simulation.py` script is designed to simulate the dynamics of the Digit robot using the embedded function in [pinocchio](https://github.com/stack-of-tasks/pinocchio/). 
It integrates the dynamics of a constrained system, applying both open-loop and feedback (PD) control to track a desired trajectory. 
The script also handles various closed-loop constraints and contact models for the Digit robot.

In terms of forward simulating a system with constraints, this script is extended from one [official example](https://github.com/stack-of-tasks/pinocchio/blob/master/examples/simulation-closed-kinematic-chains.py) from pinocchio.
Readers should refer to [1] for more theoretical information.

### Usage


## References

[1] J. Carpentier, M. Louis and LL. Quentin. “From Compliant to Rigid Contact Simulation: a Unified and Efficient Approach.” 2024 Robotics: Science and Systems (RSS), Netherlands.